include libreria.lib

PINTADEPUNTO MACRO RW1,CL1,RW2,CL2,COLOR
	MOV R1,RW1
	MOV C1,CL1
	MOV R2,RW2
	MOV C2,CL2
	
	MOV AH,ROW
	MOV AL,COL
	
	ADD R1,AH
	ADD C1,AL
	ADD R2,AH
	ADD C2,AL
	DIBUJARECT R1,C1,R2,C2,COLOR
ENDM

FONDO MACRO
	DIBUJARECT 0,0,24,79,00H
	DIBUJARECT 3,0,3,79,11H
	DIBUJARECT 21,0,21,79,11H
ENDM

PAC1 MACRO 
	FONDO
	
	PINTADEPUNTO 0,10,0,19,61H
	PINTADEPUNTO 1,6,1,21,61H
	PINTADEPUNTO 2,4,2,19,61H
	PINTADEPUNTO 3,2,3,17,61H
	PINTADEPUNTO 4,2,4,15,61H
	PINTADEPUNTO 5,0,5,13,61H
	PINTADEPUNTO 6,0,6,11,61H
	PINTADEPUNTO 7,0,7,9,61H
	PINTADEPUNTO 8,0,8,11,61H
	PINTADEPUNTO 9,0,9,13,61H
	PINTADEPUNTO 10,2,10,15,61H
	PINTADEPUNTO 11,2,11,17,61H
	PINTADEPUNTO 12,4,12,19,61H
	PINTADEPUNTO 13,6,13,21,61H
	PINTADEPUNTO 14,11,14,19,61H
ENDM

PAC2 MACRO
	FONDO

	PINTADEPUNTO 0,10,0,19,61H
	PINTADEPUNTO 1,6,1,23,61H
	PINTADEPUNTO 2,4,2,25,61H
	PINTADEPUNTO 3,2,3,27,61H
	PINTADEPUNTO 4,2,4,21,61H
	PINTADEPUNTO 5,0,5,17,61H
	PINTADEPUNTO 6,0,6,13,61H
	PINTADEPUNTO 7,0,7,9,61H
	PINTADEPUNTO 8,0,8,13,61H
	PINTADEPUNTO 9,0,9,17,61H
	PINTADEPUNTO 10,2,10,21,61H
	PINTADEPUNTO 11,2,11,27,61H
	PINTADEPUNTO 12,4,12,25,61H
	PINTADEPUNTO 13,6,13,23,61H
	PINTADEPUNTO 14,11,14,19,61H
ENDM

PAC3 MACRO
	FONDO

	PINTADEPUNTO 0,10,0,19,61H
	PINTADEPUNTO 1,6,1,23,61H
	PINTADEPUNTO 2,4,2,25,61H
	PINTADEPUNTO 3,2,4,27,61H
	PINTADEPUNTO 5,0,9,29,61H
	PINTADEPUNTO 10,2,11,27,61H
	PINTADEPUNTO 12,4,12,25,61H
	PINTADEPUNTO 13,6,13,23,61H
	PINTADEPUNTO 14,11,14,19,61H
ENDM

PAC4 MACRO 
	FONDO
	
	PINTADEPUNTO 0,10,0,19,61H
	PINTADEPUNTO 1,8,1,23,61H
	PINTADEPUNTO 2,10,2,25,61H
	PINTADEPUNTO 3,12,3,27,61H
	PINTADEPUNTO 4,14,4,27,61H
	PINTADEPUNTO 5,16,5,29,61H
	PINTADEPUNTO 6,18,6,29,61H
	PINTADEPUNTO 7,20,7,29,61H
	PINTADEPUNTO 8,18,8,29,61H
	PINTADEPUNTO 9,16,9,29,61H
	PINTADEPUNTO 10,14,10,27,61H
	PINTADEPUNTO 11,12,11,27,61H
	PINTADEPUNTO 12,10,12,25,61H
	PINTADEPUNTO 13,8,13,23,61H
	PINTADEPUNTO 14,10,14,19,61H
ENDM

PAC5 MACRO
	FONDO

	PINTADEPUNTO 0,10,0,19,61H
	PINTADEPUNTO 1,6,1,23,61H
	PINTADEPUNTO 2,4,2,25,61H
	PINTADEPUNTO 3,2,3,27,61H
	PINTADEPUNTO 4,8,4,27,61H
	PINTADEPUNTO 5,12,5,29,61H
	PINTADEPUNTO 6,16,6,29,61H
	PINTADEPUNTO 7,21,7,29,61H
	PINTADEPUNTO 8,16,8,29,61H
	PINTADEPUNTO 9,12,9,29,61H
	PINTADEPUNTO 10,8,10,27,61H
	PINTADEPUNTO 11,2,11,27,61H
	PINTADEPUNTO 12,4,12,25,61H
	PINTADEPUNTO 13,6,13,23,61H
	PINTADEPUNTO 14,11,14,19,61H
ENDM



.model small
.stack 64
.data
R1 DB 0
R2 DB 0
C1 DB 0
C2 DB 0

ROW DB 5
COL DB 0
MORDIDAS DB ?
MUEVE DB 49

TECLA DB ?
.code
main proc far
	CPDATA
	PAC3
	
	INICIO:
	MOV MUEVE,5
	LEETECLA
	MOV TECLA,AL
	;COMPARACIONES PARA SABER LA TECLA

	CMP TECLA,64H
	JE AVANZA
		
	CMP TECLA,61H
	JE DEREGRESO
	JMP SIG1
	DEREGRESO:
	JMP REGRESA
	SIG1:
	
	CMP TECLA,71H
	JE SIG2
	JMP INICIO
	SIG2:
	JMP FIN
	
	AVANZA:
		MOV MORDIDAS,1

			PAC1
			PAUSA 1
			ADD COL,1
			PAC2
			PAUSA 1
			ADD COL,1
			PAC3
			PAUSA 1
			ADD COL,1
			PAC2
			PAUSA 1
			ADD COL,1
	
		DEC MUEVE
		CMP MUEVE,0
	JBE SALTE
	JMP AVANZA
	SALTE:
	JMP INICIO
	
	REGRESA:
		CICLO2:
		
			PAC4
			PAUSA 1
			SUB COL,1
			PAC5
			PAUSA 1
			SUB COL,1
			PAC3
			PAUSA 1
			SUB COL,1
			PAC5
			PAUSA 1
			SUB COL,1
		
		DEC MUEVE
		CMP MUEVE,0
	JBE SALE
	JMP REGRESA
	SALE:
	JMP INICIO
	
	FIN:
	
	DOSEXIT
main endp

end main
